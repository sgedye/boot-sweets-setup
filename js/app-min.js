class UI{constructor(){this.cart=document.getElementById("cart"),this.confirm=document.getElementById("confirmation"),this.cartInfo=document.getElementById("cart-info"),this.total=document.querySelector(".cart-total-container"),this.itemList=[],this.itemID=2}showCart(){this.cart.classList.toggle("show-cart")}addToCart(t){let e=t.children[0].children[0].src,n=e.indexOf("img")+3,i=e.slice(n);const c={};c.id=t.id,c.img=`./img-cart${i}`,c.name=t.children[0].nextElementSibling.children[0].children[0].textContent;let s=t.children[0].nextElementSibling.children[0].children[1].textContent;c.price=s.slice(1).trim();const r=document.createElement("div");r.id=c.id,r.classList.add("cart-item","d-flex","justify-content-between","text-capitalize","my-3"),r.innerHTML=`\n    <img src="${c.img}" class="img-fluid rounded-circle" id="item-img" alt="">\n    <div class="item-text">\n      <p id="cart-item-title" class="font-weight-bold mb-0">${c.name}</p>\n      <span>$</span>\n      <span id="cart-item-price" class="cart-item-price" class="mb-0">${c.price}</span>\n    </div>\n    <a href="#" id='cart-item-remove' class="cart-item-remove">\n      <i class="fas fa-trash"></i>\n    </a>\n    `,this.cart.insertBefore(r,this.total),this.confirm.classList.add("show-confirmation"),setTimeout(()=>{this.confirm.classList.remove("show-confirmation")},4e3),this.cartInfo.classList.add("pink-cart-btn"),setTimeout(()=>{this.cartInfo.classList.remove("pink-cart-btn")},4e3),showTotals()}removeFromCart(t){this.cart.removeChild(t),showTotals()}removeAll(){let t=this.cart.childElementCount-2;for(let e=0;e<t;e++)setTimeout(()=>{this.cart.children[e].classList.add("empty-cart")},50*e);setTimeout(()=>{for(;this.cart.childElementCount>2;)this.cart.removeChild(this.cart.children[0]);showTotals(),this.showCart()},50*t)}}function showTotals(){const t=[];document.querySelectorAll(".cart-item-price").forEach(e=>{t.push(parseFloat(e.textContent))});const e=t.reduce((t,e)=>t+e,0);document.getElementById("cart-total").textContent=e.toFixed(2),document.querySelector(".item-total").textContent=e.toFixed(2),document.getElementById("item-count").textContent=t.length}function eventListeners(){const t=document.getElementById("cart"),e=document.getElementById("cart-info"),n=document.querySelectorAll(".store-item-icon"),i=document.getElementById("clear-cart"),c=new UI;e.addEventListener("click",t=>{(t.target.classList.contains("cart-info")||t.target.parentElement.classList.contains("cart-info")||t.target.parentElement.parentElement.classList.contains("cart-info"))&&c.showCart()}),n.forEach(t=>{t.addEventListener("click",e=>{if(e.target.parentElement.classList.contains("store-item-icon")||e.target.classList.contains("store-item-icon")){let e=t.parentElement.parentElement;c.addToCart(e)}})}),t.addEventListener("click",t=>{c.removeFromCart(t.target.parentElement.parentElement)}),i.addEventListener("click",()=>{c.removeAll()})}document.addEventListener("DOMContentLoaded",()=>{showTotals(),eventListeners()});